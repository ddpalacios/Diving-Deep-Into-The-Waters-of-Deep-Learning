<html>
  <script src="https://cdn.rawgit.com/BrainJS/brain.js/45ce6ffc/browser.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/d3-force.v2.min.js"></script>
  <script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
  <script src="https://d3js.org/d3-quadtree.v1.min.js"></script>
  <script src="https://d3js.org/d3-timer.v1.min.js"></script>
  <script src="https://d3js.org/d3-force.v2.min.js"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  
  <script src="https://d3js.org/d3.v2.min.js?2.9.3"></script>

  
  <link rel="stylesheet" href="Styles\index.css">
<title>Diving Deep Into The Waters of Deep Learning</title>
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1">


<style>
body{
  background-image: url("nn7.png");
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center;
  background-size: 100%;

}

</style>

<div class="header_text">
  <h1>Start Creating Your<b>Neural Network</b> Right Here in Your Browser. <br></h1>
</div>
<div class='rectangle'></div>
</head>
<body>


<div class="navbar">
  <a href="../index.html">Home</a>
  <a href="#news">News</a>
  <a href="#contact">Contact</a>
</div>

<form style="position: relative; left: 40%; top: 100px;">
  <label for="fname">Input unit #:</label>
  <input value =5 type="text" id="input_units"><br><br>
 
  

  
  <label for="lname">Hidden Layer(s):</label>
  <input value = 5 type="text" id="hidden_units1" ><br><br>
  
  <label for="lname">Hidden Layer(s):</label>
  <input value = 5 type="text" id="hidden_units2" ><br><br>


  

   <label for="fname">Output Units:</label>
  <input value= 5 type="text" id="output_units" name="fname"><br><br>
 
</form>


<body>
 <div style=" position: relative; top: -150px;">
<button class="render_button" onclick="Render()">Build Neural Network</button>
<button class="train_button" onclick="Train()">Train</button>
<button class="reset_button" onclick="Reset()">Reset</button>
</div>
</body>
<script>
   class Create_Architecture {
    constructor(x_pos, y_pos, json, width = 800, height = 400, nodeSize = 15) {

      this.x_pos = x_pos
      this.y_pos = y_pos
      this.nodes = json[0].nodes;
      this.width = width
      this.height = height
      this.nodeSize = nodeSize
      this.color = d3.scale.category20()
      this.svg = d3.select("body").append("svg")
        .attr("width", window.innerWidth)
        .attr("height",900);


    }
    _get_network_size() {
      // get network size
      var netsize = {};
      this.nodes.forEach(function (d) {
        if (d.layer in netsize) {
          netsize[d.layer] += 1;
        } else {
          netsize[d.layer] = 1;
        }
        d["lidx"] = netsize[d.layer];
      });

      // calc distances between nodes
      var largestLayerSize = Math.max.apply(
        null, Object.keys(netsize).map(function (i) { return netsize[i]; }));

      var xdist = this.width / Object.keys(netsize).length,
        ydist = this.height / largestLayerSize,
        x_pos = this.x_pos,
        y_pos = this.y_pos;
      // create node locations
      this.nodes.map(function (d) {

        d["x"] = (d.layer - x_pos) * xdist;
        d["y"] = (d.lidx - y_pos) * ydist;
      });


    }

    _autogenerate_links() {
      // autogenerate links
      var netsize = {}
      var links = [];
      var nodes = this.nodes;

      this.nodes.map(function (d, i) {
        for (var n in nodes) {
          if (d.layer + 1 == nodes[n].layer) {
            links.push({ "source": parseInt(i), "target": parseInt(n), "value": 1 })
          }

        }

      }).filter(function (d) { return typeof d !== "undefined"; });


      this._draw_links(links)
    }

    _draw_links(links) {
      // draw links
      var nodes = this.nodes
      var link = this.svg.selectAll(".link")
        .data(links)
        .enter().append("line")
        .attr("class", "link")
        .attr("x1", function (d) { return nodes[d.source].x; })
        .attr("y1", function (d) { return nodes[d.source].y; })
        .attr("x2", function (d) { return nodes[d.target].x; })
        .attr("y2", function (d) { return nodes[d.target].y; })
        .style("stroke-width", function (d) { return Math.sqrt(d.value); });



    }
    _draw_nodes() {
      var color = this.color
      // draw nodes
      var node = this.svg.selectAll(".node")
        .data(this.nodes)
        .enter().append("g")
        .attr("transform", function (d) {
          return "translate(" + d.x + "," + d.y + ")";
        }
        );

      var circle = node.append("circle")
        .attr("class", "node")
        .attr("r", this.nodeSize)
        .style("fill", function (d) { return color(d.layer); });


      node.append("text")
        .attr("dx", "-.35em")
        .attr("dy", ".35em")
        .text(function (d) { return d.label; });
    }
    build() {

      this._get_network_size()
      this._autogenerate_links()
      this._draw_nodes()



    }



  }
</script>
<script>
function Reset(){
location.reload()


}




function extract_values(id){

  var value = document.getElementById(id).value
  return value


}



function Render(){
  var json =  [{

"nodes":[], 



}]
var hashmap = new Map()
var NODE_LIST = json[0].nodes
console.log(NODE_LIST)
var values = []
  

in_value = extract_values("input_units")
h1_value = extract_values("hidden_units1")
h2_value = extract_values("hidden_units2")
out_value = extract_values("output_units")

for (var i=0; i< in_value; i++){
  NODE_LIST.push({"label": i, "layer": 0})
}
for (var i=0; i< h1_value; i++){
  NODE_LIST.push({"label": i, "layer": 1})
}
for (var i=0; i< h2_value; i++){
  NODE_LIST.push({"label": i, "layer": 2})
}

for (var i=0; i< out_value; i++){
  NODE_LIST.push({"label": i, "layer": 3})
}

new Create_Architecture(x_pos = -3.0, y_pos = -5.7, json).build()
}




</script>





</html>
 